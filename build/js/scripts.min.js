"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}!function(e){if(e){var t=e.querySelector(".sp-nav__category");document.addEventListener("click",function(e){e.target.classList.contains("sp-nav__item--submenu")||e.target.closest(".sp-nav__category")?t.classList.toggle("sp-nav__category--opened"):t.classList.remove("sp-nav__category--opened")})}}(document.querySelector(".sp-nav__list")),function(e){if(e){var t=document.querySelector(".sp-header__nav");e.addEventListener("click",function(e){t.classList.toggle("sp-header__nav--active"),this.classList.toggle("sp-header__btn-burger--close"),t.classList.contains("sp-header__nav--active")?document.body.style.overflow="hidden":document.body.style.overflow="auto"})}}(document.querySelector(".sp-header__btn-burger")),function(r){r&&r.addEventListener("submit",function(e){e.preventDefault();var t=r.querySelector(".sp-subscribe__email-input");fetch(r.action,{method:r.method,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"email=".concat(t.value)}).then(function(e){return e.json()}).then(function(e){e.email==t.value?(alert("Спасибо, что подписались на нашу рассылку"),t.value=""):alert("Произошла ошибка")}).catch(function(e){return console.log("Произошла ошибка ".concat(e))})})}(document.querySelector(".sp-subscribe")),function(e){if(e){var t=e.querySelector(".sp-slider__navi-btn--prev"),r=e.querySelector(".sp-slider__navi-btn--next"),a=e.querySelectorAll(".sp-slider__item"),c=document.querySelector(".sp-btn--add-to-basket"),n="sp-slider__item--active",l=_toConsumableArray(a);r.addEventListener("click",o),t.addEventListener("click",o),function(e){if(e){var n=e.querySelectorAll(".sp-colors__item"),o=document.querySelectorAll(".sp-slider__img"),i="sp-colors__item--error",s="sp-colors__item--active";_toConsumableArray(n).forEach(function(e){e.addEventListener("click",t)})}function t(e){var t=this;e.stopPropagation();var r=_toConsumableArray(o).findIndex(function(e){return e.dataset.color===t.dataset.color});-1===r?function(){var e=this;this.classList.add(i),setTimeout(function(){return e.classList.remove(i)},5e3)}.call(this):function(e){var t=this;l=_toConsumableArray(a).filter(function(e){return e.querySelector(".sp-slider__img").dataset.color===t.dataset.color}),_toConsumableArray(n).forEach(function(e){e.classList.remove(s,i)}),this.classList.add(s),a.forEach(function(e){e.classList.remove("sp-slider__item--active")}),o[e].parentNode.classList.add("sp-slider__item--active"),c.disabled=!0}.call(this,r)}}(document.querySelector(".sp-colors"))}function o(e){"next"===this.dataset.way?i(l):"prev"===this.dataset.way&&i(l.reverse())}function i(e){var t=e.findIndex(function(e){return e.classList.contains(n)});e[t].classList.remove(n),e[t+1]?e[t+1].classList.add(n):e[0].classList.add(n)}}(document.querySelector(".sp-slider")),function(){if(document.querySelector(".sp-product-story__detail-description")){var r=document.querySelectorAll(".sp-detail-description__tab"),n=document.querySelectorAll(".sp-detail-description__content"),o="sp-detail-description__content--active",i="sp-detail-description__tab--active",e=document.querySelector(".sp-detail-description__btn-opening");_toConsumableArray(r).forEach(function(e){e.addEventListener("click",t)}),e.addEventListener("click",function(e){console.log(this.previousElementSibling.style,this.previousElementSibling.scrollHeight),this.previousElementSibling.style.height=this.previousElementSibling.scrollHeight+"px",this.closest(".sp-detail-description__content").classList.remove("sp-detail-description__content--semi-hidden"),this.remove()})}function t(e){var t;_toConsumableArray(r).forEach(function(e){e.classList.remove(i)}),this.classList.add(i),t=this.dataset.tabName,_toConsumableArray(n).forEach(function(e){e.classList.contains(t)?e.classList.add(o):e.classList.remove(o)})}}();